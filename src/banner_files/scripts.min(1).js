window.addEventListener("load",function(){function i(t){var r,s=JFCustomWidget.getWidgetSettings(),i=t.formID,a=t.qid,n=!JFCustomWidgetUtils.isEmpty(s.apiKey)&&s.apiKey||"",o=0;function u(e){!function(){var e=s.charsNumber;e<=0&&(e=10);32<e&&(e=32);var t=-1<["letters","numbers","alphanumeric","all"].indexOf(s.charsType)?s.charsType:"all",i=-1<["lowercase","uppercase","both"].indexOf(s.letterCase)?s.letterCase:"both",a="";"numbers"!==t&&("lowercase"!==i&&"both"!==i||(a+="abcdefghijklmnopqrstuvwxyz"),"uppercase"!==i&&"both"!==i||(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"));"letters"!==t&&(a+="1234567890");"all"===t&&(a+="!\"#$%&'()*|,-./:;<=>?@[]^_`{|}~");{r="";for(var n=0;n<e;n++)r+=a[function(e,t){var i=arguments.length;if(0===i)e=0,t=2147483647;else if(1===i)throw new Error("Warning: rand() expects exactly 2 parameters, 1 given");return Math.floor(Math.random()*(t-e+1))+e}(0,a.length-1)]}$("#valueContainer").val(r),d()}(),l(),void 0!==e.success&&void 0!==e.values&&e.success&&~e.values.indexOf(r)&&(++o<30?u(e):(d(r=""),console.error("Error: All possible combinations are no longer available")))}function l(){JFCustomWidget.requestFrameResize({height:$("body").outerHeight()+1})}function d(){JFCustomWidget.sendData(e())}function e(){return{valid:!!r,value:r}}this.init=function(){"hide"in s&&"Yes"===s.hide&&JFCustomWidget.hideWidgetContainer();if(t&&t.value)return r=t.value,$("#valueContainer").val(r),d(),!1;var e=!0;"uniqueValues"in s&&(e="Yes"===s.uniqueValues);e&&n&&i&&a?$.ajax({url:"server.php",type:"POST",dataType:"JSON",data:{action:"getList",apiKey:n,formID:i,qid:a},success:u}):u("false");JFCustomWidget.isFromCardform()?JFCustomWidgetUtils.animateUntil(3e3,l):l()},this.getData=e}JFCustomWidget.subscribe("ready",function(e){var t=new i(e);t.init(),JFCustomWidget.subscribe("submit",function(){JFCustomWidget.sendSubmit(t.getData())})})});